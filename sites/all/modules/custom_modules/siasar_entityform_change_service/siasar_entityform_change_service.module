<?php

/**
 * Implements hook_services_resources().
 */
function siasar_entityform_change_service_services_resources() {
  $api = [
    'entityform_change_state' => [
      'operations' => [
        'index' => [
          'help' => 'Retrieves forms changed for "finished" status or removed',
          'callback' => '_siasar_entityform_change_service_services_index',
          'file' => ['file' => 'services.inc', 'module' => 'siasar_entityform_change_service'],
          'access callback' => 'user_access',
          'access arguments' => ['access content'],
          'access arguments append' => FALSE,
          'args' => [
            [
              'name' => 'type',
              'type' => 'string',
              'description' => 'Entityform type',
              'source' => 'param',
              'optional' => TRUE,
            ],
            [
              'name' => 'date_from',
              'type' => 'timestamp',
              'description' => 'Start date range for entityform filter',
              'source' => 'param',
              'optional' => TRUE,
            ],
            [
              'name' => 'date_to',
              'type' => 'timestamp',
              'description' => 'End date range for entityform filter',
              'source' => 'param',
              'optional' => TRUE,
            ]
          ]
        ]
      ]
    ],
  ];

  return $api;
}
